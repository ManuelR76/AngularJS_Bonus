<!DOCTYPE html>
<html lang="fr" ng-app="ngpatternApp">
<head>
  <meta charset="utf-8" />
  <title>AngularJs Bonus exercice 1</title>
    <link href="style.css" rel="stylesheet" />
</head>
<body>
  <div ng-app="ngpatternApp" ng-controller="ngpatternCtrl">
    <h1>Formulaire AngularJs</h1>
    <form name="personForm" novalidate ng-submit="personForm.$valid && sendForm()">
      <label for="text">Email :</label><input type="text" name="email" ng-model="txtmail" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" required id="inputMail" />
      <div id="error"  ng-show="personForm.email.$error.required"> Email exigé! </div>
      <div id="error" ng-show="personForm.email.$dirty&&personForm.email.$error.pattern">Entrer un email valide</div>
      <div id="success" ng-show="personForm.$valid">E-mail valide</div>
      <button type="submit">Valider formulaire</button>
      <div>{{msg}}</div>
    </form>
  </div>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.7.5/angular.min.js"></script>
  <script type="text/javascript">
  var app = angular.module('ngpatternApp', []);
  app.controller('ngpatternCtrl', function ($scope) {
    $scope.sendForm = function () {
      $scope.msg = "Formulaire envoyé";
    };
  });
</script>
</body>
</html>
